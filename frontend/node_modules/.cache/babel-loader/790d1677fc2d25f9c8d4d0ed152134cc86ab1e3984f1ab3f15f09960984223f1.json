{"ast":null,"code":"// frontend/src/services/adminService.ts\n\nexport async function listParams(token) {\n  const res = await fetch(`${process.env.REACT_APP_API_URL}/admin/params`, {\n    headers: {\n      Authorization: 'Bearer ' + token\n    }\n  });\n  if (!res.ok) throw new Error('Error listing params');\n  return res.json();\n}\nexport async function updateParam(token, param_key, param_value) {\n  const res = await fetch(`${process.env.REACT_APP_API_URL}/admin/params/update`, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json',\n      Authorization: 'Bearer ' + token\n    },\n    body: JSON.stringify({\n      param_key,\n      param_value\n    })\n  });\n  if (!res.ok) throw new Error('Error updating param');\n  return res.json();\n}\nexport async function listUsers(token) {\n  const res = await fetch(`${process.env.REACT_APP_API_URL}/admin/users`, {\n    headers: {\n      Authorization: 'Bearer ' + token\n    }\n  });\n  if (!res.ok) throw new Error('Error listing users');\n  return res.json();\n}\nexport async function createUser(token, email, password, role) {\n  const res = await fetch(`${process.env.REACT_APP_API_URL}/admin/users/create`, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json',\n      Authorization: 'Bearer ' + token\n    },\n    body: JSON.stringify({\n      email,\n      password,\n      role\n    })\n  });\n  if (!res.ok) throw new Error('Error creating user');\n  return res.json();\n}\nexport async function updateUserRole(token, userId, role) {\n  const res = await fetch(`${process.env.REACT_APP_API_URL}/admin/users/updateRole`, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json',\n      Authorization: 'Bearer ' + token\n    },\n    body: JSON.stringify({\n      userId,\n      role\n    })\n  });\n  if (!res.ok) throw new Error('Error updating user role');\n  return res.json();\n}","map":{"version":3,"names":["listParams","token","res","fetch","process","env","REACT_APP_API_URL","headers","Authorization","ok","Error","json","updateParam","param_key","param_value","method","body","JSON","stringify","listUsers","createUser","email","password","role","updateUserRole","userId"],"sources":["C:/Users/a/Desktop/AllegroERP/project-root/frontend/src/services/adminService.ts"],"sourcesContent":["// frontend/src/services/adminService.ts\n\nexport async function listParams(token:string) {\n  const res = await fetch(`${process.env.REACT_APP_API_URL}/admin/params`, {\n    headers:{Authorization:'Bearer '+token}\n  });\n  if(!res.ok) throw new Error('Error listing params');\n  return res.json();\n}\n\nexport async function updateParam(token:string, param_key:string, param_value:string) {\n  const res = await fetch(`${process.env.REACT_APP_API_URL}/admin/params/update`, {\n    method:'POST',\n    headers:{'Content-Type':'application/json',Authorization:'Bearer '+token},\n    body:JSON.stringify({param_key,param_value})\n  });\n  if(!res.ok) throw new Error('Error updating param');\n  return res.json();\n}\n\nexport async function listUsers(token:string) {\n  const res = await fetch(`${process.env.REACT_APP_API_URL}/admin/users`, {\n    headers:{Authorization:'Bearer '+token}\n  });\n  if(!res.ok) throw new Error('Error listing users');\n  return res.json();\n}\n\nexport async function createUser(token:string, email:string, password:string, role:string) {\n  const res = await fetch(`${process.env.REACT_APP_API_URL}/admin/users/create`, {\n    method:'POST',\n    headers:{'Content-Type':'application/json', Authorization:'Bearer '+token},\n    body:JSON.stringify({email,password,role})\n  });\n  if(!res.ok) throw new Error('Error creating user');\n  return res.json();\n}\n\nexport async function updateUserRole(token:string, userId:number, role:string) {\n  const res = await fetch(`${process.env.REACT_APP_API_URL}/admin/users/updateRole`, {\n    method:'POST',\n    headers:{'Content-Type':'application/json', Authorization:'Bearer '+token},\n    body:JSON.stringify({userId,role})\n  });\n  if(!res.ok) throw new Error('Error updating user role');\n  return res.json();\n}\n"],"mappings":"AAAA;;AAEA,OAAO,eAAeA,UAAUA,CAACC,KAAY,EAAE;EAC7C,MAAMC,GAAG,GAAG,MAAMC,KAAK,CAAC,GAAGC,OAAO,CAACC,GAAG,CAACC,iBAAiB,eAAe,EAAE;IACvEC,OAAO,EAAC;MAACC,aAAa,EAAC,SAAS,GAACP;IAAK;EACxC,CAAC,CAAC;EACF,IAAG,CAACC,GAAG,CAACO,EAAE,EAAE,MAAM,IAAIC,KAAK,CAAC,sBAAsB,CAAC;EACnD,OAAOR,GAAG,CAACS,IAAI,CAAC,CAAC;AACnB;AAEA,OAAO,eAAeC,WAAWA,CAACX,KAAY,EAAEY,SAAgB,EAAEC,WAAkB,EAAE;EACpF,MAAMZ,GAAG,GAAG,MAAMC,KAAK,CAAC,GAAGC,OAAO,CAACC,GAAG,CAACC,iBAAiB,sBAAsB,EAAE;IAC9ES,MAAM,EAAC,MAAM;IACbR,OAAO,EAAC;MAAC,cAAc,EAAC,kBAAkB;MAACC,aAAa,EAAC,SAAS,GAACP;IAAK,CAAC;IACzEe,IAAI,EAACC,IAAI,CAACC,SAAS,CAAC;MAACL,SAAS;MAACC;IAAW,CAAC;EAC7C,CAAC,CAAC;EACF,IAAG,CAACZ,GAAG,CAACO,EAAE,EAAE,MAAM,IAAIC,KAAK,CAAC,sBAAsB,CAAC;EACnD,OAAOR,GAAG,CAACS,IAAI,CAAC,CAAC;AACnB;AAEA,OAAO,eAAeQ,SAASA,CAAClB,KAAY,EAAE;EAC5C,MAAMC,GAAG,GAAG,MAAMC,KAAK,CAAC,GAAGC,OAAO,CAACC,GAAG,CAACC,iBAAiB,cAAc,EAAE;IACtEC,OAAO,EAAC;MAACC,aAAa,EAAC,SAAS,GAACP;IAAK;EACxC,CAAC,CAAC;EACF,IAAG,CAACC,GAAG,CAACO,EAAE,EAAE,MAAM,IAAIC,KAAK,CAAC,qBAAqB,CAAC;EAClD,OAAOR,GAAG,CAACS,IAAI,CAAC,CAAC;AACnB;AAEA,OAAO,eAAeS,UAAUA,CAACnB,KAAY,EAAEoB,KAAY,EAAEC,QAAe,EAAEC,IAAW,EAAE;EACzF,MAAMrB,GAAG,GAAG,MAAMC,KAAK,CAAC,GAAGC,OAAO,CAACC,GAAG,CAACC,iBAAiB,qBAAqB,EAAE;IAC7ES,MAAM,EAAC,MAAM;IACbR,OAAO,EAAC;MAAC,cAAc,EAAC,kBAAkB;MAAEC,aAAa,EAAC,SAAS,GAACP;IAAK,CAAC;IAC1Ee,IAAI,EAACC,IAAI,CAACC,SAAS,CAAC;MAACG,KAAK;MAACC,QAAQ;MAACC;IAAI,CAAC;EAC3C,CAAC,CAAC;EACF,IAAG,CAACrB,GAAG,CAACO,EAAE,EAAE,MAAM,IAAIC,KAAK,CAAC,qBAAqB,CAAC;EAClD,OAAOR,GAAG,CAACS,IAAI,CAAC,CAAC;AACnB;AAEA,OAAO,eAAea,cAAcA,CAACvB,KAAY,EAAEwB,MAAa,EAAEF,IAAW,EAAE;EAC7E,MAAMrB,GAAG,GAAG,MAAMC,KAAK,CAAC,GAAGC,OAAO,CAACC,GAAG,CAACC,iBAAiB,yBAAyB,EAAE;IACjFS,MAAM,EAAC,MAAM;IACbR,OAAO,EAAC;MAAC,cAAc,EAAC,kBAAkB;MAAEC,aAAa,EAAC,SAAS,GAACP;IAAK,CAAC;IAC1Ee,IAAI,EAACC,IAAI,CAACC,SAAS,CAAC;MAACO,MAAM;MAACF;IAAI,CAAC;EACnC,CAAC,CAAC;EACF,IAAG,CAACrB,GAAG,CAACO,EAAE,EAAE,MAAM,IAAIC,KAAK,CAAC,0BAA0B,CAAC;EACvD,OAAOR,GAAG,CAACS,IAAI,CAAC,CAAC;AACnB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}